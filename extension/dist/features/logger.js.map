{"version":3,"file":"logger.js","sources":["../../src/features/logger.js"],"sourcesContent":["import { getFeatureID } from '../helpers/feature-helpers.js';\r\nimport features from '../feature-manager.js';\r\nimport { $ } from 'select-dom';\r\nimport './logger.css'\r\n\r\nconst selector = 'body';\r\n\r\nconst logContainer = document.createElement('div');\r\nlogContainer.id = 'iref-log';\r\nlogContainer.style.display = 'none';\r\n\r\nexport function log(message) {\r\n\r\n    let logLine = document.createElement('div');\r\n    let date = new Date();\r\n    let time = date.toTimeString().split(' ')[0];\r\n    logLine.style.cssText = 'margin-bottom: 5px;';\r\n    logLine.innerHTML = '<span>' + time + '</span> - ' + message;\r\n    logContainer.appendChild(logLine);\r\n    logContainer.scrollTop = logContainer.scrollHeight;\r\n\r\n}\r\n\r\nlet appended = false;\r\n\r\nasync function init(activate = true) {\r\n\r\n    if (!activate) {\r\n        $('#iref-log').style.display = 'none';\r\n        return;\r\n    }\r\n\r\n    if (!appended) {\r\n        document.body.appendChild(logContainer);\r\n        appended = true;\r\n    }\r\n\r\n    $('#iref-log').style.display = 'block';\r\n\r\n}\r\n\r\nconst id = getFeatureID(import.meta.url);\r\nconst bodyClass = 'iref-' + id;\r\n\r\nfeatures.add(id, true, selector, bodyClass, init);\r\n"],"names":["selector","logContainer","log","message","logLine","time","appended","init","activate","$","id","getFeatureID","bodyClass","features"],"mappings":";;;;AAKA,MAAMA,IAAW,QAEXC,IAAe,SAAS,cAAc,KAAK;AACjDA,EAAa,KAAK;AAClBA,EAAa,MAAM,UAAU;AAEtB,SAASC,EAAIC,GAAS;AAEzB,MAAIC,IAAU,SAAS,cAAc,KAAK,GAEtCC,KADO,oBAAI,QACC,aAAY,EAAG,MAAM,GAAG,EAAE,CAAC;AAC3C,EAAAD,EAAQ,MAAM,UAAU,uBACxBA,EAAQ,YAAY,WAAWC,IAAO,eAAeF,GACrDF,EAAa,YAAYG,CAAO,GAChCH,EAAa,YAAYA,EAAa;AAE1C;AAEA,IAAIK,IAAW;AAEf,eAAeC,EAAKC,IAAW,IAAM;AAEjC,MAAI,CAACA,GAAU;AACX,IAAAC,EAAE,WAAW,EAAE,MAAM,UAAU;AAC/B;AAAA,EACH;AAED,EAAKH,MACD,SAAS,KAAK,YAAYL,CAAY,GACtCK,IAAW,KAGfG,EAAE,WAAW,EAAE,MAAM,UAAU;AAEnC;AAEA,MAAMC,IAAKC,EAAa,YAAY,GAAG,GACjCC,IAAY,UAAUF;AAE5BG,EAAS,IAAIH,GAAI,IAAMV,GAAUY,GAAWL,CAAI;"}