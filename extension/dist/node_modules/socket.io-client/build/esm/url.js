import "../../../engine.io-client/build/esm/socket.js";
import "../../../engine.io-parser/build/esm/encodePacket.browser.js";
import "../../../engine.io-parser/build/esm/commons.js";
import "../../../engine.io-parser/build/esm/contrib/base64-arraybuffer.js";
import "../../../@socket.io/component-emitter/lib/esm/index.js";
import "../../../engine.io-client/build/esm/util.js";
import "../../../engine.io-client/build/esm/transports/polling-xhr.js";
import "../../../engine.io-client/build/esm/transports/websocket.js";
import "../../../engine.io-client/build/esm/globals.js";
import { parse as r } from "../../../engine.io-client/build/esm/contrib/parseuri.js";
function v(o, e = "", p) {
  let t = o;
  p = p || typeof location < "u" && location, o == null && (o = p.protocol + "//" + p.host), typeof o == "string" && (o.charAt(0) === "/" && (o.charAt(1) === "/" ? o = p.protocol + o : o = p.host + o), /^(https?|wss?):\/\//.test(o) || (typeof p < "u" ? o = p.protocol + "//" + o : o = "https://" + o), t = r(o)), t.port || (/^(http|ws)$/.test(t.protocol) ? t.port = "80" : /^(http|ws)s$/.test(t.protocol) && (t.port = "443")), t.path = t.path || "/";
  const s = t.host.indexOf(":") !== -1 ? "[" + t.host + "]" : t.host;
  return t.id = t.protocol + "://" + s + ":" + t.port + e, t.href = t.protocol + "://" + s + (p && p.port === t.port ? "" : ":" + t.port), t;
}
export {
  v as url
};
//# sourceMappingURL=url.js.map
