{"version":3,"file":"index.js","sources":["../../../../../node_modules/socket.io-client/build/esm/index.js"],"sourcesContent":["import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n"],"names":["cache","lookup","uri","opts","parsed","url","source","id","path","sameNamespace","newConnection","io","Manager","Socket"],"mappings":";;;;;;;;;;;;;AAMA,MAAMA,IAAQ,CAAE;AAChB,SAASC,EAAOC,GAAKC,GAAM;AACvB,EAAI,OAAOD,KAAQ,aACfC,IAAOD,GACPA,IAAM,SAEVC,IAAOA,KAAQ,CAAE;AACjB,QAAMC,IAASC,EAAIH,GAAKC,EAAK,QAAQ,YAAY,GAC3CG,IAASF,EAAO,QAChBG,IAAKH,EAAO,IACZI,IAAOJ,EAAO,MACdK,IAAgBT,EAAMO,CAAE,KAAKC,KAAQR,EAAMO,CAAE,EAAE,MAC/CG,IAAgBP,EAAK,YACvBA,EAAK,sBAAsB,KACjBA,EAAK,cAAf,MACAM;AACJ,MAAIE;AACJ,SAAID,IACAC,IAAK,IAAIC,EAAQN,GAAQH,CAAI,KAGxBH,EAAMO,CAAE,MACTP,EAAMO,CAAE,IAAI,IAAIK,EAAQN,GAAQH,CAAI,IAExCQ,IAAKX,EAAMO,CAAE,IAEbH,EAAO,SAAS,CAACD,EAAK,UACtBA,EAAK,QAAQC,EAAO,WAEjBO,EAAG,OAAOP,EAAO,MAAMD,CAAI;AACtC;AAGA,OAAO,OAAOF,GAAQ;AAAA,EAClB,SAAAW;AAAA,EACA,QAAAC;AAAA,EACA,IAAIZ;AAAA,EACJ,SAASA;AACb,CAAC;","x_google_ignoreList":[0]}