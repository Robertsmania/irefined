{"version":3,"file":"index.js","sources":["../../../../../../node_modules/@socket.io/component-emitter/lib/esm/index.js"],"sourcesContent":["/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n"],"names":["Emitter","obj","mixin","key","event","fn","on","callbacks","cb","args","i","len"],"mappings":"AAMO,SAASA,EAAQC,GAAK;AAC3B,MAAIA,EAAK,QAAOC,EAAMD,CAAG;AAC3B;AAUA,SAASC,EAAMD,GAAK;AAClB,WAASE,KAAOH,EAAQ;AACtB,IAAAC,EAAIE,CAAG,IAAIH,EAAQ,UAAUG,CAAG;AAElC,SAAOF;AACT;AAWAD,EAAQ,UAAU,KAClBA,EAAQ,UAAU,mBAAmB,SAASI,GAAOC,GAAG;AACtD,cAAK,aAAa,KAAK,cAAc,CAAE,IACtC,KAAK,WAAW,MAAMD,CAAK,IAAI,KAAK,WAAW,MAAMA,CAAK,KAAK,CAAE,GAC/D,KAAKC,CAAE,GACH;AACT;AAYAL,EAAQ,UAAU,OAAO,SAASI,GAAOC,GAAG;AAC1C,WAASC,IAAK;AACZ,SAAK,IAAIF,GAAOE,CAAE,GAClBD,EAAG,MAAM,MAAM,SAAS;AAAA,EAC5B;AAEE,SAAAC,EAAG,KAAKD,GACR,KAAK,GAAGD,GAAOE,CAAE,GACV;AACT;AAYAN,EAAQ,UAAU,MAClBA,EAAQ,UAAU,iBAClBA,EAAQ,UAAU,qBAClBA,EAAQ,UAAU,sBAAsB,SAASI,GAAOC,GAAG;AAIzD,MAHA,KAAK,aAAa,KAAK,cAAc,CAAE,GAG9B,UAAU,UAAf;AACF,gBAAK,aAAa,CAAE,GACb;AAIT,MAAIE,IAAY,KAAK,WAAW,MAAMH,CAAK;AAC3C,MAAI,CAACG,EAAW,QAAO;AAGvB,MAAS,UAAU,UAAf;AACF,kBAAO,KAAK,WAAW,MAAMH,CAAK,GAC3B;AAKT,WADII,GACK,IAAI,GAAG,IAAID,EAAU,QAAQ;AAEpC,QADAC,IAAKD,EAAU,CAAC,GACZC,MAAOH,KAAMG,EAAG,OAAOH,GAAI;AAC7B,MAAAE,EAAU,OAAO,GAAG,CAAC;AACrB;AAAA,IACN;AAKE,SAAIA,EAAU,WAAW,KACvB,OAAO,KAAK,WAAW,MAAMH,CAAK,GAG7B;AACT;AAUAJ,EAAQ,UAAU,OAAO,SAASI,GAAM;AACtC,OAAK,aAAa,KAAK,cAAc,CAAE;AAKvC,WAHIK,IAAO,IAAI,MAAM,UAAU,SAAS,CAAC,GACrCF,IAAY,KAAK,WAAW,MAAMH,CAAK,GAElCM,IAAI,GAAGA,IAAI,UAAU,QAAQA;AACpC,IAAAD,EAAKC,IAAI,CAAC,IAAI,UAAUA,CAAC;AAG3B,MAAIH,GAAW;AACb,IAAAA,IAAYA,EAAU,MAAM,CAAC;AAC7B,aAASG,IAAI,GAAGC,IAAMJ,EAAU,QAAQG,IAAIC,GAAK,EAAED;AACjD,MAAAH,EAAUG,CAAC,EAAE,MAAM,MAAMD,CAAI;AAAA,EAEnC;AAEE,SAAO;AACT;AAGAT,EAAQ,UAAU,eAAeA,EAAQ,UAAU;AAUnDA,EAAQ,UAAU,YAAY,SAASI,GAAM;AAC3C,cAAK,aAAa,KAAK,cAAc,CAAE,GAChC,KAAK,WAAW,MAAMA,CAAK,KAAK,CAAE;AAC3C;AAUAJ,EAAQ,UAAU,eAAe,SAASI,GAAM;AAC9C,SAAO,CAAC,CAAE,KAAK,UAAUA,CAAK,EAAE;AAClC;","x_google_ignoreList":[0]}